;; Object gh/gh-gist-api/xumingming
;; EIEIO PERSISTENT OBJECT
(gh-cache "gh/gh-gist-api/xumingming"
  :file "xumingming"
  :entries #s(hash-table size 65 test equal rehash-size 1.5 rehash-threshold 0.8 data (("/users/xumingming/gists" "GET" "70f43dfde6fe91c3a45d14f9075b6243ab1c42d3") [object pcache-entry "pcache-entry" 1338126490.755175 nil ([object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "twitter-storm-retain-supervisor.java" 1593 "https://gist.github.com/raw/2666211/208102c15e70d8fb02ec0be500fa5b04ed7c5fe5/twitter-storm-retain-supervisor.java" "public class RetainSupervisorScheduler implements Scheduler {
    public Cluster schedule(Map<String, TopologyDetails> topologies, Cluster cluster) {
        if (topologies.containsKey(\"special-topology\") && cluster.needSchedule(\"special-topology\") {
            // find the specific supervisor
            SupevisorDetails supervisor = cluster.getSupervisor(\"specific-supervisor\");
            if (supervisor != null) {
                // find out whether this supervisor is occupied
                Map<Integer, ComponentDetails> usedSlots = supervisor.getUsedSlots();
                if (!usedSlots.isEmpty()) {
                    // evict the other topologies's tasks which used these slots
                    supervisor.freeSlots(usedSlots.keySet());

                    List<Integer> availableSlots = supervisor.getAvailableSlots();

                    if (!availableSlots.isEmpty()) {
                        TopologyDetails topology = topologies.get(\"special-topology\");
                        List<Integer> tasks = cluster.getUnassignedTasks(topology);
                        
                        // assign the available slots to the remain tasks.
                        // FIXME: for demo purpose, the logic below is highly simplied, 
                        for (int i = 0; i < tasks.size(); i++) {
                            cluster.assign(\"special-topology\", tasks.get(i), availableSlots.get(i));
                        }
                    }
                }
            }
        }

        return new DefaultScheduler().schedule(topologies, cluster);
    }    
}"]) t "Twitter Storm: Scheduler Demo -- Retain a supervisor for a specific topology" "2012-05-12T12:10:59Z" "2012-05-12T14:46:30Z" "git@gist.github.com:2666211.git" "git://gist.github.com/2666211.git" "https://gist.github.com/2666211" 4 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "2666211" "https://api.github.com/gists/2666211" (((user (id . 379733) (login . "xumingming") (gravatar_id . "2e4b76a1b6ac1809a564333068ba1760") (avatar_url . "https://secure.gravatar.com/avatar/2e4b76a1b6ac1809a564333068ba1760?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png") (url . "https://api.github.com/users/xumingming")) (version . "a51c66c2a9d9bd585a8779ac7a72433d91ae91ba") (committed_at . "2012-05-12T13:08:55Z") (url . "https://api.github.com/gists/2666211/a51c66c2a9d9bd585a8779ac7a72433d91ae91ba") (change_status (total . 12) (additions . 5) (deletions . 7))) ((user (id . 379733) (login . "xumingming") (gravatar_id . "2e4b76a1b6ac1809a564333068ba1760") (avatar_url . "https://secure.gravatar.com/avatar/2e4b76a1b6ac1809a564333068ba1760?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png") (url . "https://api.github.com/users/xumingming")) (version . "aeee4fdfec82190d0d203a83fa7f97b14e42b33a") (committed_at . "2012-05-12T12:51:45Z") (url . "https://api.github.com/gists/2666211/aeee4fdfec82190d0d203a83fa7f97b14e42b33a") (change_status (total . 32) (additions . 31) (deletions . 1))) ((user (id . 379733) (login . "xumingming") (gravatar_id . "2e4b76a1b6ac1809a564333068ba1760") (avatar_url . "https://secure.gravatar.com/avatar/2e4b76a1b6ac1809a564333068ba1760?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png") (url . "https://api.github.com/users/xumingming")) (version . "376b2574bb4811f3efe1124e6926d51455b6d226") (committed_at . "2012-05-12T12:10:59Z") (url . "https://api.github.com/gists/2666211/376b2574bb4811f3efe1124e6926d51455b6d226") (change_status (total . 3) (additions . 3) (deletions . 0)))) nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "twitter-storm-scheduler-design.md" 3409 "https://gist.github.com/raw/2666162/9c7ed95d1dc7f0a7480b8ae66fa91ab39a5c3d00/twitter-storm-scheduler-design.md" nil]) t "Twitter Storm: Scheduler Design" "2012-05-12T11:57:36Z" "2012-05-12T11:57:36Z" "git@gist.github.com:2666162.git" "git://gist.github.com/2666162.git" "https://gist.github.com/2666162" 2 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "2666162" "https://api.github.com/gists/2666162" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "gistfile1.txt" 572 "https://gist.github.com/raw/2634328/2bdb822a5c6bb4fccf7db453fb6d642aa92552cc/gistfile1.txt" "(defroutes main-routes
  (GET \"/\" []
       (-> (main-page)
           ui-template))
  (GET \"/topology/:id\" [id & m]
       (-> (topology-page id (:window m) true)
           ui-template))
  (GET \"/topology/:id/component/:component\" [id component & m]
       (log-message \"REQUEST: \" request)
       (-> (component-page id component (:window m) true)
           ui-template))
  (GET \"/topology/:id/task/:task\" [id task & m]
       (-> (task-page id (Integer/parseInt task) (:window m))
           ui-template))
  (route/resources \"/\")
  (route/not-found \"Page not found\"))"]) t "routes" "2012-05-08T11:21:31Z" "2012-05-08T11:21:31Z" "git@gist.github.com:2634328.git" "git://gist.github.com/2634328.git" "https://gist.github.com/2634328" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "2634328" "https://api.github.com/gists/2634328" (((user (id . 379733) (login . "xumingming") (gravatar_id . "2e4b76a1b6ac1809a564333068ba1760") (avatar_url . "https://secure.gravatar.com/avatar/2e4b76a1b6ac1809a564333068ba1760?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png") (url . "https://api.github.com/users/xumingming")) (version . "668d528c6378a6684d4ed5feee11802e72861b39") (committed_at . "2012-05-08T11:21:31Z") (url . "https://api.github.com/gists/2634328/668d528c6378a6684d4ed5feee11802e72861b39") (change_status (total . 16) (additions . 16) (deletions . 0)))) nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "gistfile1.txt" 925 "https://gist.github.com/raw/e85e0ad84ddc32b92426/9421e651d4fd2d411068cf6c1812471d372c7402/gistfile1.txt" nil]) :json-false "antx_luna.properties" "2012-05-04T03:05:32Z" "2012-05-04T03:05:32Z" "git@gist.github.com:e85e0ad84ddc32b92426.git" "git://gist.github.com/e85e0ad84ddc32b92426.git" "https://gist.github.com/e85e0ad84ddc32b92426" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "e85e0ad84ddc32b92426" "https://api.github.com/gists/e85e0ad84ddc32b92426" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "gistfile1.txt" 4554 "https://gist.github.com/raw/d8317711a1d6008f65f9/e9cc6b4344f5e019158bb4154adf3344967fada3/gistfile1.txt" nil]) :json-false "test hosts" "2012-05-03T07:49:06Z" "2012-05-03T07:49:06Z" "git@gist.github.com:d8317711a1d6008f65f9.git" "git://gist.github.com/d8317711a1d6008f65f9.git" "https://gist.github.com/d8317711a1d6008f65f9" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "d8317711a1d6008f65f9" "https://api.github.com/gists/d8317711a1d6008f65f9" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "settings.xml" 9235 "https://gist.github.com/raw/efde7c47dab0cf42de5f/43489649da94fbb822e3fde930e370d6c78441ab/settings.xml" "<?xml version=\"1.0\"?>
<!-- ======================================================================== -->
<!--  settings.xml for maven users                                            -->
<!--  Version: 2                                                              -->	
<!--  Auhtor: Shawn.Qian                                                      -->	
<!--  $Id$ -->	
<!-- ======================================================================== -->

<settings>
	<!-- ======================================================================== -->
	<!--  Accounts for SCM ONLY                                                   -->
	<!-- ======================================================================== -->
	<servers>
		<server>
			<id>b2b.repo.server</id>
			<username>maven</username>
			<password>secret</password>
		</server>
		<server>
			<id>scm.deploy.account</id>
			<username>maven</username>
			<password>secret</password>
		</server>
	</servers>

	<!-- ======================================================================== -->
	<!--  Profiles                                                                -->
	<!-- ======================================================================== -->
	<profiles>
		<profile>
			<!-- ======================================================================== -->
			<!--  Managed Repositories for Alibaba Dev          -->
			<!-- ======================================================================== -->
			<id>b2b</id>
			<repositories>
				<!-- internal standard maven libs, just plugins and parent poms. No biz libs! -->
				<repository>
					<id>central</id>
					<name>released internal lib</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/releases</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
				</repository>
				<repository>
					<id>b2b-internal-snapshots</id>
					<name>snapshot internal lib</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/snapshots</url>
					<snapshots>
						<enabled>true</enabled>
					</snapshots>
					<releases>
						<enabled>false</enabled>
					</releases>			
				</repository>
				<!-- 2nd lib proxy -->
				<repository>
					<id>b2b-shared-repository</id>
					<name>b2b shared libraries</name>
					<url>http://repo.alibaba-inc.com:9091/shared</url>
					<snapshots>
						<enabled>true</enabled>
					</snapshots>
				</repository>
			</repositories>
			
			<!-- ======================================================================== -->
			<!--  Repositories for maven plugins          -->
			<!-- ======================================================================== -->
			<pluginRepositories>
				<pluginRepository>
					<id>b2b-plugin-snapshots</id>
					<name>plugin snapshots</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/snapshots</url>
					<snapshots>
						<enabled>true</enabled>
					</snapshots>
					<releases>
						<enabled>false</enabled>
					</releases>
				</pluginRepository>
				<pluginRepository>
					<id>b2b-plugin-releases</id>
					<name>plugin releases</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/releases</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
					<releases>
						<enabled>true</enabled>
					</releases>						
				</pluginRepository>
				<pluginRepository>
					<id>b2b-external-cache</id>
					<name>cached external lib</name>
					<url>http://repo.alibaba-inc.com/mvn/external</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
				</pluginRepository>
				<pluginRepository>
					<id>central</id>
					<name>archiva proxy server</name>
					<url>http://repo.alibaba-inc.com/archiva/repository/external</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
				</pluginRepository>
			</pluginRepositories>
		</profile>

		<profile>
			<!-- ======================================================================== -->
			<!--  Unmanaged Repositories for Alibaba Dev          -->
			<!--  DEPRECATED -->
			<!-- ======================================================================== -->
			<id>b2b.unmanaged</id>
			<repositories>
				<repository>
					<id>b2b-public-releases</id>
					<name>B2B BU public repository for released artifacts</name>
					<url>http://repo.alibaba-inc.com/mvn/public/releases</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
					<releases>
						<enabled>true</enabled>
					</releases>						
				</repository>
				<repository>
					<id>b2b-internal-snapshots</id>
					<name>B2B internal repository for snapshots artifacts</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/snapshots</url>
					<snapshots>
						<enabled>true</enabled>
					</snapshots>
					<releases>
						<enabled>false</enabled>
					</releases>
				</repository>
				<repository>
					<id>b2b-internal-releases</id>
					<name>B2B internal repository for released artifacts</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/releases</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
					<releases>
						<enabled>true</enabled>
					</releases>						
				</repository>
				<!-- no snapshot allowed for external repositories! -->			
				<repository>
					<id>b2b-central-cache</id>
					<name>B2B cache server for external repositories</name>
					<url>http://repo.alibaba-inc.com/mvn/external</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
				</repository>
				<repository>
					<id>central</id>
					<name>B2B proxy server for external repositories</name>
					<url>http://repo.alibaba-inc.com/archiva/repository/external</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
				</repository>
			</repositories>
			<pluginRepositories>
				<pluginRepository>
					<id>b2b-public-snapshots</id>
					<name>B2B BU public repository for snapshot artifacts</name>
					<url>http://repo.alibaba-inc.com/mvn/public/snapshots</url>
					<snapshots>
						<enabled>true</enabled>
					</snapshots>
					<releases>
						<enabled>false</enabled>
					</releases>
				</pluginRepository>
				<pluginRepository>
					<id>b2b-public-releases</id>
					<name>B2B BU public repository for released artifacts</name>
					<url>http://repo.alibaba-inc.com/mvn/public/releases</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
					<releases>
						<enabled>true</enabled>
					</releases>						
				</pluginRepository>
				<!-- will be deprecated soon -->
				<pluginRepository>
					<id>b2b-internal-snapshots</id>
					<name>B2B internal repository for snapshots artifacts</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/snapshots</url>
					<snapshots>
						<enabled>true</enabled>
					</snapshots>
					<releases>
						<enabled>false</enabled>
					</releases>
				</pluginRepository>
				<pluginRepository>
					<id>b2b-internal-releases</id>
					<name>B2B internal repository for released artifacts</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/releases</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
					<releases>
						<enabled>true</enabled>
					</releases>						
				</pluginRepository>
				<!-- no snapshot allowed for external repositories -->
				<pluginRepository>
					<id>b2b-central-cache</id>
					<name>B2B cache to external repositories</name>
					<url>http://repo.alibaba-inc.com/mvn/external</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
				</pluginRepository>
				<pluginRepository>
					<id>central</id>
					<name>Platform proxy to external repositories</name>
					<url>http://repo.alibaba-inc.com/archiva/repository/external</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
				</pluginRepository>
			</pluginRepositories>
		</profile>
	
		<profile>
			<id>taobao</id>
			<repositories>
				<repository>
					<id>tbmirror-central</id>
					<name>taobao mirror central</name>
					<url>http://mvnrepo.taobao.ali.com/mvn/repository</url>
					<snapshots>
						<enabled>true</enabled>
					</snapshots>
					<releases>
						<enabled>true</enabled>
					</releases>
				</repository>
			</repositories>
		</profile>
        <profile>
            <id>storm</id>
            <repositories>
                <repository>
                  <id>central</id>
                  <name>Maven Repository Switchboard</name>
                  <layout>default</layout>
                  <url>http://repo1.maven.org/maven2</url>
                  <snapshots>
                    <enabled>false</enabled>
                  </snapshots>
                </repository>
                <!-- clojar -->
                <repository>
                  <id>clojars.org</id>
                  <url>http://clojars.org/repo</url>
                </repository>
              <repository>
               <id>codehaus-snapshots</id>
               <url>http://snapshots.repository.codehaus.org</url>
              </repository>
            </repositories>
        </profile>
	</profiles>

	<pluginGroups>
		<pluginGroup>com.alibaba.org.apache.maven.plugins</pluginGroup>
		<pluginGroup>com.alibaba.maven.plugins</pluginGroup>
	</pluginGroups>	
	<activeProfiles>
		<activeProfile>b2b</activeProfile>
	</activeProfiles>
</settings>
"]) :json-false "settings.xml" "2012-05-03T01:19:11Z" "2012-05-03T01:19:11Z" "git@gist.github.com:efde7c47dab0cf42de5f.git" "git://gist.github.com/efde7c47dab0cf42de5f.git" "https://gist.github.com/efde7c47dab0cf42de5f" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "efde7c47dab0cf42de5f" "https://api.github.com/gists/efde7c47dab0cf42de5f" (((user (id . 379733) (login . "xumingming") (gravatar_id . "2e4b76a1b6ac1809a564333068ba1760") (avatar_url . "https://secure.gravatar.com/avatar/2e4b76a1b6ac1809a564333068ba1760?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png") (url . "https://api.github.com/users/xumingming")) (version . "e01b316438689195ae1508ed656ceab277f99f55") (committed_at . "2012-05-03T01:19:11Z") (url . "https://api.github.com/gists/efde7c47dab0cf42de5f/e01b316438689195ae1508ed656ceab277f99f55") (change_status (total . 284) (additions . 284) (deletions . 0)))) nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "gistfile1.txt" 1823 "https://gist.github.com/raw/fe6c189f7caa966e4ff5/85cca5305e285f44e791f388b8845f77578d0aca/gistfile1.txt" nil]) :json-false "" "2012-04-25T11:05:08Z" "2012-04-25T11:05:08Z" "git@gist.github.com:fe6c189f7caa966e4ff5.git" "git://gist.github.com/fe6c189f7caa966e4ff5.git" "https://gist.github.com/fe6c189f7caa966e4ff5" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "fe6c189f7caa966e4ff5" "https://api.github.com/gists/fe6c189f7caa966e4ff5" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "gistfile1.txt" 6075 "https://gist.github.com/raw/2430530/042c038e744615f8a0445250578e9b1d4570bb35/gistfile1.txt" nil]) t "Storm Integration Test Error(3)" "2012-04-20T17:37:46Z" "2012-04-20T17:37:46Z" "git@gist.github.com:2430530.git" "git://gist.github.com/2430530.git" "https://gist.github.com/2430530" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "2430530" "https://api.github.com/gists/2430530" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "fake-virtual-port.clj" 1187 "https://gist.github.com/raw/e62c2500e273e4a3c069/4fac2a649949579c34f8790d982253b2badb6593/fake-virtual-port.clj" nil]) :json-false "fake virtual port" "2012-04-19T11:05:31Z" "2012-04-19T11:05:31Z" "git@gist.github.com:e62c2500e273e4a3c069.git" "git://gist.github.com/e62c2500e273e4a3c069.git" "https://gist.github.com/e62c2500e273e4a3c069" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "e62c2500e273e4a3c069" "https://api.github.com/gists/e62c2500e273e4a3c069" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "storm-fail-log3.txt" 53153 "https://gist.github.com/raw/2410548/7986cd9435cb4b818cf32d25468591357dd10fae/storm-fail-log3.txt" nil]) t "Integration Test Error(3)" "2012-04-18T02:01:14Z" "2012-04-18T02:01:14Z" "git@gist.github.com:2410548.git" "git://gist.github.com/2410548.git" "https://gist.github.com/2410548" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "2410548" "https://api.github.com/gists/2410548" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "storm-fail-log2.txt" 31342 "https://gist.github.com/raw/2410486/c658b406a3c7ed6d1a41d0ae67800a48e6468481/storm-fail-log2.txt" nil]) t "Storm Integration Test Error(2)" "2012-04-18T01:48:17Z" "2012-04-18T02:01:42Z" "git@gist.github.com:2410486.git" "git://gist.github.com/2410486.git" "https://gist.github.com/2410486" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "2410486" "https://api.github.com/gists/2410486" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "storm-fail-log.txt" 172771 "https://gist.github.com/raw/2407383/3d2118fc71455a6e86510aa2f52a7212db114f3d/storm-fail-log.txt" nil]) t "Twitter Storm: Integration Test Fail Log" "2012-04-17T16:39:42Z" "2012-04-17T16:39:42Z" "git@gist.github.com:2407383.git" "git://gist.github.com/2407383.git" "https://gist.github.com/2407383" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "2407383" "https://api.github.com/gists/2407383" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "dbg.clj" 63 "https://gist.github.com/raw/2404940/81ba08b48e86d3d837824935f64c4d2efa785fad/dbg.clj" nil]) t "clojure debug macro" "2012-04-17T09:45:57Z" "2012-04-17T09:45:57Z" "git@gist.github.com:2404940.git" "git://gist.github.com/2404940.git" "https://gist.github.com/2404940" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "2404940" "https://api.github.com/gists/2404940" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "trace-ns.clj" 1004 "https://gist.github.com/raw/2404916/a8cd36ce8fd123e4e5a8b21d7c943448c46cde2e/trace-ns.clj" nil]) t nil "2012-04-17T09:40:00Z" "2012-04-17T09:40:00Z" "git@gist.github.com:2404916.git" "git://gist.github.com/2404916.git" "https://gist.github.com/2404916" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "2404916" "https://api.github.com/gists/2404916" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "gistfile1.clj" 48 "https://gist.github.com/raw/2374971/dad69334b9f426e644819665f29ad871e8f5e091/gistfile1.clj" nil]) t "" "2012-04-13T07:56:03Z" "2012-04-13T07:56:03Z" "git@gist.github.com:2374971.git" "git://gist.github.com/2374971.git" "https://gist.github.com/2374971" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "2374971" "https://api.github.com/gists/2374971" nil nil] [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "hello-world" 33 "https://gist.github.com/raw/b52e32d58e3d98c62ae2/1371a98edaf4ea3311db3561b0883c549ed554e0/hello-world" nil]) :json-false "hello world" "2012-03-21T07:27:13Z" "2012-03-21T07:27:13Z" "git@gist.github.com:b52e32d58e3d98c62ae2.git" "git://gist.github.com/b52e32d58e3d98c62ae2.git" "https://gist.github.com/b52e32d58e3d98c62ae2" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "b52e32d58e3d98c62ae2" "https://api.github.com/gists/b52e32d58e3d98c62ae2" nil nil])] ("/gists/2666211" "GET" "70f43dfde6fe91c3a45d14f9075b6243ab1c42d3") [object pcache-entry "pcache-entry" 1338126509.410214 nil [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "twitter-storm-retain-supervisor.java" 1593 "https://gist.github.com/raw/2666211/208102c15e70d8fb02ec0be500fa5b04ed7c5fe5/twitter-storm-retain-supervisor.java" "public class RetainSupervisorScheduler implements Scheduler {
    public Cluster schedule(Map<String, TopologyDetails> topologies, Cluster cluster) {
        if (topologies.containsKey(\"special-topology\") && cluster.needSchedule(\"special-topology\") {
            // find the specific supervisor
            SupevisorDetails supervisor = cluster.getSupervisor(\"specific-supervisor\");
            if (supervisor != null) {
                // find out whether this supervisor is occupied
                Map<Integer, ComponentDetails> usedSlots = supervisor.getUsedSlots();
                if (!usedSlots.isEmpty()) {
                    // evict the other topologies's tasks which used these slots
                    supervisor.freeSlots(usedSlots.keySet());

                    List<Integer> availableSlots = supervisor.getAvailableSlots();

                    if (!availableSlots.isEmpty()) {
                        TopologyDetails topology = topologies.get(\"special-topology\");
                        List<Integer> tasks = cluster.getUnassignedTasks(topology);
                        
                        // assign the available slots to the remain tasks.
                        // FIXME: for demo purpose, the logic below is highly simplied, 
                        for (int i = 0; i < tasks.size(); i++) {
                            cluster.assign(\"special-topology\", tasks.get(i), availableSlots.get(i));
                        }
                    }
                }
            }
        }

        return new DefaultScheduler().schedule(topologies, cluster);
    }    
}"]) t "Twitter Storm: Scheduler Demo -- Retain a supervisor for a specific topology" "2012-05-12T12:10:59Z" "2012-05-12T14:46:30Z" "git@gist.github.com:2666211.git" "git://gist.github.com/2666211.git" "https://gist.github.com/2666211" 4 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "2666211" "https://api.github.com/gists/2666211" (((user (id . 379733) (login . "xumingming") (gravatar_id . "2e4b76a1b6ac1809a564333068ba1760") (avatar_url . "https://secure.gravatar.com/avatar/2e4b76a1b6ac1809a564333068ba1760?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png") (url . "https://api.github.com/users/xumingming")) (version . "a51c66c2a9d9bd585a8779ac7a72433d91ae91ba") (committed_at . "2012-05-12T13:08:55Z") (url . "https://api.github.com/gists/2666211/a51c66c2a9d9bd585a8779ac7a72433d91ae91ba") (change_status (total . 12) (additions . 5) (deletions . 7))) ((user (id . 379733) (login . "xumingming") (gravatar_id . "2e4b76a1b6ac1809a564333068ba1760") (avatar_url . "https://secure.gravatar.com/avatar/2e4b76a1b6ac1809a564333068ba1760?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png") (url . "https://api.github.com/users/xumingming")) (version . "aeee4fdfec82190d0d203a83fa7f97b14e42b33a") (committed_at . "2012-05-12T12:51:45Z") (url . "https://api.github.com/gists/2666211/aeee4fdfec82190d0d203a83fa7f97b14e42b33a") (change_status (total . 32) (additions . 31) (deletions . 1))) ((user (id . 379733) (login . "xumingming") (gravatar_id . "2e4b76a1b6ac1809a564333068ba1760") (avatar_url . "https://secure.gravatar.com/avatar/2e4b76a1b6ac1809a564333068ba1760?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png") (url . "https://api.github.com/users/xumingming")) (version . "376b2574bb4811f3efe1124e6926d51455b6d226") (committed_at . "2012-05-12T12:10:59Z") (url . "https://api.github.com/gists/2666211/376b2574bb4811f3efe1124e6926d51455b6d226") (change_status (total . 3) (additions . 3) (deletions . 0)))) nil]] ("/gists/2634328" "GET" "70f43dfde6fe91c3a45d14f9075b6243ab1c42d3") [object pcache-entry "pcache-entry" 1338126516.367749 nil [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "gistfile1.txt" 572 "https://gist.github.com/raw/2634328/2bdb822a5c6bb4fccf7db453fb6d642aa92552cc/gistfile1.txt" "(defroutes main-routes
  (GET \"/\" []
       (-> (main-page)
           ui-template))
  (GET \"/topology/:id\" [id & m]
       (-> (topology-page id (:window m) true)
           ui-template))
  (GET \"/topology/:id/component/:component\" [id component & m]
       (log-message \"REQUEST: \" request)
       (-> (component-page id component (:window m) true)
           ui-template))
  (GET \"/topology/:id/task/:task\" [id task & m]
       (-> (task-page id (Integer/parseInt task) (:window m))
           ui-template))
  (route/resources \"/\")
  (route/not-found \"Page not found\"))"]) t "routes" "2012-05-08T11:21:31Z" "2012-05-08T11:21:31Z" "git@gist.github.com:2634328.git" "git://gist.github.com/2634328.git" "https://gist.github.com/2634328" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "2634328" "https://api.github.com/gists/2634328" (((user (id . 379733) (login . "xumingming") (gravatar_id . "2e4b76a1b6ac1809a564333068ba1760") (avatar_url . "https://secure.gravatar.com/avatar/2e4b76a1b6ac1809a564333068ba1760?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png") (url . "https://api.github.com/users/xumingming")) (version . "668d528c6378a6684d4ed5feee11802e72861b39") (committed_at . "2012-05-08T11:21:31Z") (url . "https://api.github.com/gists/2634328/668d528c6378a6684d4ed5feee11802e72861b39") (change_status (total . 16) (additions . 16) (deletions . 0)))) nil]] ("/gists/efde7c47dab0cf42de5f" "GET" "70f43dfde6fe91c3a45d14f9075b6243ab1c42d3") [object pcache-entry "pcache-entry" 1338126522.021392 nil [object gh-gist-gist "gh-gist-gist" ([object gh-gist-gist-file "gh-gist-gist-file" "settings.xml" 9235 "https://gist.github.com/raw/efde7c47dab0cf42de5f/43489649da94fbb822e3fde930e370d6c78441ab/settings.xml" "<?xml version=\"1.0\"?>
<!-- ======================================================================== -->
<!--  settings.xml for maven users                                            -->
<!--  Version: 2                                                              -->	
<!--  Auhtor: Shawn.Qian                                                      -->	
<!--  $Id$ -->	
<!-- ======================================================================== -->

<settings>
	<!-- ======================================================================== -->
	<!--  Accounts for SCM ONLY                                                   -->
	<!-- ======================================================================== -->
	<servers>
		<server>
			<id>b2b.repo.server</id>
			<username>maven</username>
			<password>secret</password>
		</server>
		<server>
			<id>scm.deploy.account</id>
			<username>maven</username>
			<password>secret</password>
		</server>
	</servers>

	<!-- ======================================================================== -->
	<!--  Profiles                                                                -->
	<!-- ======================================================================== -->
	<profiles>
		<profile>
			<!-- ======================================================================== -->
			<!--  Managed Repositories for Alibaba Dev          -->
			<!-- ======================================================================== -->
			<id>b2b</id>
			<repositories>
				<!-- internal standard maven libs, just plugins and parent poms. No biz libs! -->
				<repository>
					<id>central</id>
					<name>released internal lib</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/releases</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
				</repository>
				<repository>
					<id>b2b-internal-snapshots</id>
					<name>snapshot internal lib</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/snapshots</url>
					<snapshots>
						<enabled>true</enabled>
					</snapshots>
					<releases>
						<enabled>false</enabled>
					</releases>			
				</repository>
				<!-- 2nd lib proxy -->
				<repository>
					<id>b2b-shared-repository</id>
					<name>b2b shared libraries</name>
					<url>http://repo.alibaba-inc.com:9091/shared</url>
					<snapshots>
						<enabled>true</enabled>
					</snapshots>
				</repository>
			</repositories>
			
			<!-- ======================================================================== -->
			<!--  Repositories for maven plugins          -->
			<!-- ======================================================================== -->
			<pluginRepositories>
				<pluginRepository>
					<id>b2b-plugin-snapshots</id>
					<name>plugin snapshots</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/snapshots</url>
					<snapshots>
						<enabled>true</enabled>
					</snapshots>
					<releases>
						<enabled>false</enabled>
					</releases>
				</pluginRepository>
				<pluginRepository>
					<id>b2b-plugin-releases</id>
					<name>plugin releases</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/releases</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
					<releases>
						<enabled>true</enabled>
					</releases>						
				</pluginRepository>
				<pluginRepository>
					<id>b2b-external-cache</id>
					<name>cached external lib</name>
					<url>http://repo.alibaba-inc.com/mvn/external</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
				</pluginRepository>
				<pluginRepository>
					<id>central</id>
					<name>archiva proxy server</name>
					<url>http://repo.alibaba-inc.com/archiva/repository/external</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
				</pluginRepository>
			</pluginRepositories>
		</profile>

		<profile>
			<!-- ======================================================================== -->
			<!--  Unmanaged Repositories for Alibaba Dev          -->
			<!--  DEPRECATED -->
			<!-- ======================================================================== -->
			<id>b2b.unmanaged</id>
			<repositories>
				<repository>
					<id>b2b-public-releases</id>
					<name>B2B BU public repository for released artifacts</name>
					<url>http://repo.alibaba-inc.com/mvn/public/releases</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
					<releases>
						<enabled>true</enabled>
					</releases>						
				</repository>
				<repository>
					<id>b2b-internal-snapshots</id>
					<name>B2B internal repository for snapshots artifacts</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/snapshots</url>
					<snapshots>
						<enabled>true</enabled>
					</snapshots>
					<releases>
						<enabled>false</enabled>
					</releases>
				</repository>
				<repository>
					<id>b2b-internal-releases</id>
					<name>B2B internal repository for released artifacts</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/releases</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
					<releases>
						<enabled>true</enabled>
					</releases>						
				</repository>
				<!-- no snapshot allowed for external repositories! -->			
				<repository>
					<id>b2b-central-cache</id>
					<name>B2B cache server for external repositories</name>
					<url>http://repo.alibaba-inc.com/mvn/external</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
				</repository>
				<repository>
					<id>central</id>
					<name>B2B proxy server for external repositories</name>
					<url>http://repo.alibaba-inc.com/archiva/repository/external</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
				</repository>
			</repositories>
			<pluginRepositories>
				<pluginRepository>
					<id>b2b-public-snapshots</id>
					<name>B2B BU public repository for snapshot artifacts</name>
					<url>http://repo.alibaba-inc.com/mvn/public/snapshots</url>
					<snapshots>
						<enabled>true</enabled>
					</snapshots>
					<releases>
						<enabled>false</enabled>
					</releases>
				</pluginRepository>
				<pluginRepository>
					<id>b2b-public-releases</id>
					<name>B2B BU public repository for released artifacts</name>
					<url>http://repo.alibaba-inc.com/mvn/public/releases</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
					<releases>
						<enabled>true</enabled>
					</releases>						
				</pluginRepository>
				<!-- will be deprecated soon -->
				<pluginRepository>
					<id>b2b-internal-snapshots</id>
					<name>B2B internal repository for snapshots artifacts</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/snapshots</url>
					<snapshots>
						<enabled>true</enabled>
					</snapshots>
					<releases>
						<enabled>false</enabled>
					</releases>
				</pluginRepository>
				<pluginRepository>
					<id>b2b-internal-releases</id>
					<name>B2B internal repository for released artifacts</name>
					<url>http://repo.alibaba-inc.com/mvn/internal/releases</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
					<releases>
						<enabled>true</enabled>
					</releases>						
				</pluginRepository>
				<!-- no snapshot allowed for external repositories -->
				<pluginRepository>
					<id>b2b-central-cache</id>
					<name>B2B cache to external repositories</name>
					<url>http://repo.alibaba-inc.com/mvn/external</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
				</pluginRepository>
				<pluginRepository>
					<id>central</id>
					<name>Platform proxy to external repositories</name>
					<url>http://repo.alibaba-inc.com/archiva/repository/external</url>
					<snapshots>
						<enabled>false</enabled>
					</snapshots>
				</pluginRepository>
			</pluginRepositories>
		</profile>
	
		<profile>
			<id>taobao</id>
			<repositories>
				<repository>
					<id>tbmirror-central</id>
					<name>taobao mirror central</name>
					<url>http://mvnrepo.taobao.ali.com/mvn/repository</url>
					<snapshots>
						<enabled>true</enabled>
					</snapshots>
					<releases>
						<enabled>true</enabled>
					</releases>
				</repository>
			</repositories>
		</profile>
        <profile>
            <id>storm</id>
            <repositories>
                <repository>
                  <id>central</id>
                  <name>Maven Repository Switchboard</name>
                  <layout>default</layout>
                  <url>http://repo1.maven.org/maven2</url>
                  <snapshots>
                    <enabled>false</enabled>
                  </snapshots>
                </repository>
                <!-- clojar -->
                <repository>
                  <id>clojars.org</id>
                  <url>http://clojars.org/repo</url>
                </repository>
              <repository>
               <id>codehaus-snapshots</id>
               <url>http://snapshots.repository.codehaus.org</url>
              </repository>
            </repositories>
        </profile>
	</profiles>

	<pluginGroups>
		<pluginGroup>com.alibaba.org.apache.maven.plugins</pluginGroup>
		<pluginGroup>com.alibaba.maven.plugins</pluginGroup>
	</pluginGroups>	
	<activeProfiles>
		<activeProfile>b2b</activeProfile>
	</activeProfiles>
</settings>
"]) :json-false "settings.xml" "2012-05-03T01:19:11Z" "2012-05-03T01:19:11Z" "git@gist.github.com:efde7c47dab0cf42de5f.git" "git://gist.github.com/efde7c47dab0cf42de5f.git" "https://gist.github.com/efde7c47dab0cf42de5f" 0 [object gh-user "gh-user" "xumingming" 379733 nil "https://api.github.com/users/xumingming"] "efde7c47dab0cf42de5f" "https://api.github.com/gists/efde7c47dab0cf42de5f" (((user (id . 379733) (login . "xumingming") (gravatar_id . "2e4b76a1b6ac1809a564333068ba1760") (avatar_url . "https://secure.gravatar.com/avatar/2e4b76a1b6ac1809a564333068ba1760?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png") (url . "https://api.github.com/users/xumingming")) (version . "e01b316438689195ae1508ed656ceab277f99f55") (committed_at . "2012-05-03T01:19:11Z") (url . "https://api.github.com/gists/efde7c47dab0cf42de5f/e01b316438689195ae1508ed656ceab277f99f55") (change_status (total . 284) (additions . 284) (deletions . 0)))) nil]]))
  :timestamp 1338204152.532523
  )
